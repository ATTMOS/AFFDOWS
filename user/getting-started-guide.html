
<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/><meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Getting Started Guide — AFFDO 24.1.0 documentation</title>
<link href="../_static/pygments.css?v=b86133f3" rel="stylesheet" type="text/css"/>
<link href="../_static/css/theme.css?v=e59714d7" rel="stylesheet" type="text/css"/>
<link href="../_static/custom.css?v=6e71f13b" rel="stylesheet" type="text/css"/>
<script src="../_static/jquery.js?v=5d32c60e"></script>
<script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=033d3bbc"></script>
<script src="../_static/doctools.js?v=888ff710"></script>
<script src="../_static/sphinx_highlight.js?v=4825356b"></script>
<script src="../_static/js/theme.js"></script>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="citation.html" rel="next" title="Citation"/>
<link href="performance.html" rel="prev" title="Accuracy and Performance"/>
<link href="../_static/version-selector.css" rel="stylesheet" type="text/css"/>
<script src="../_static/version-selector.js"></script>
</head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../index.html">
            AFFDO
          </a>
<div role="search">
<form action="../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div><div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About AFFDO Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Accuracy and Performance</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#output-structure">Output Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-parmed-input-file">Using the ParmEd Input File</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tips-for-safe-topology-updates">Tips for Safe Topology Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#disclaimer">Disclaimer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">Software License Agreement</a></li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift"><nav aria-label="Mobile navigation menu" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../index.html">AFFDO</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="Page navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Home" class="icon icon-home" href="../index.html"></a></li>
<li class="breadcrumb-item active">Getting Started Guide</li>
<li class="wy-breadcrumbs-aside">
<a href="../_sources/user/getting-started-guide.rst.txt" rel="nofollow"> View page source</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<section id="getting-started-guide">
<h1>Getting Started Guide<a class="headerlink" href="#getting-started-guide" title="Permalink to this heading"></a></h1>
<p>The user should visit the AFFDO web server at <a class="reference external" href="https://dust.sdsc.edu">https://dust.sdsc.edu</a>, upload a ligand structure in <strong>.pdb / .mol / .mol2</strong> format, and provide the molecular charge and an email address. After submission, the job enters a queue and an email with a <strong>Job ID</strong> is sent to the user. The job’s status can be checked with this ID through the web interface. When the run finishes, a second email provides a download link to the project results. The project folder contains the optimised torsion parameters plus all input, output, and helper files needed to update AMBER topology files.</p>
<section id="output-structure">
<h2>Output Structure<a class="headerlink" href="#output-structure" title="Permalink to this heading"></a></h2>
<p>The project directory contains several important files and subdirectories. Below is an explanation of the key components:</p>
<ul class="simple">
<li><p><strong>ParmEd input file (.in)</strong>:
This file contains the newly optimized torsion parameters and is the primary output of the AFFDO workflow. Use this file with parmed tool of the AmberTools molecular dynamics package to update your topology files.</p></li>
<li><p><strong>AFFDO log file (.log)</strong>:
The log file captures the output of the entire AFFDO workflow run, including the details of how reference data was collected and torsion parameters were optimized. It can be used to verify that the workflow completed as expected.</p></li>
<li><p><strong>update_topology.py</strong>
Helper script that uses ParmEd to apply updated torsion parameters to the standard GAFF2 topology, with an optional <em>dual-topology</em> mode for RBFE work.</p></li>
<li><dl class="simple">
<dt><strong>Supporting files and folders</strong>:</dt><dd><ul>
<li><p><strong>Mol file (.mol)</strong>: Standardized MOL-format file containing the ligand’s coordinates and atom labels as processed by AFFDO.</p></li>
<li><p><strong>Data JSON (.json)</strong>: Contains metadata and settings used for the AFFDO. This file includes information such as the selected methods, parameters, and computational environment.</p></li>
<li><p><strong>Input file folder</strong>: The original upload (PDB/MOL2/MOL) is preserved in this folder.</p></li>
<li><p><strong>Standard GAFF topology folder</strong>: Contains the unmodified GAFF2 topology files for the original ligand (.prmtop, .rst7, .mol2, .frcmod) for user reference.</p></li>
<li><p><strong>Results folder</strong>: Contains intermediate files generated throughout the project. This includes conformer generation, centroid optimization, torsional scans, and parameter optimization steps. These files may be useful if you want to investigate the detailed steps taken by AFFDO.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>If the fragmentation algorithm was executed:</p>
<ul class="simple">
<li><p><strong>Fragments image (.png)</strong>:
A visual representation of the fragments generated during the run.</p></li>
<li><p><strong>Fragment results folder (e.g., project_f1, project_f2)</strong>:
Contains output files for each fragment that was analyzed separately.</p></li>
<li><p><strong>Topology‑Only Mode (optional)</strong>
If you invoked AFFDO with the “Topology‑Only” mode, AFFDO will stop as soon as it builds the standard GAFF2 topology. No reparameterization related files will be included.</p></li>
</ul>
</section>
<section id="using-the-parmed-input-file">
<h2>Using the ParmEd Input File<a class="headerlink" href="#using-the-parmed-input-file" title="Permalink to this heading"></a></h2>
<p>Once AFFDO has generated your ParmEd update file (e.g. params_update.in), you can inject those torsion parameters into your GAFF2 topology using our helper script: <strong>update_topology.py</strong>.
This tool automates all the ParmEd calls. Under dual‑topology mode, it keeps only those torsion modifications that appear in both ligand states. This ensures consistent torsion updates across end‑states, ideal for alchemical free‑energy simulations.</p>
<p><strong>Usage:</strong></p>
<p>To run the script, use the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>update_topology.py<span class="w"> </span>-p<span class="w"> </span>my_system.parm7<span class="w"> </span>-i<span class="w"> </span>output-params_update.in<span class="w"> </span><span class="o">[</span>--dual-topology<span class="o">]</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>Required arguments</strong></dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-p</span></code> / <code class="docutils literal notranslate"><span class="pre">--topology</span></code> Path to the original GAFF2 <code class="docutils literal notranslate"><span class="pre">.parm7</span></code> file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-i</span></code> / <code class="docutils literal notranslate"><span class="pre">--update-in</span></code> AFFDO-generated ParmEd input (<code class="docutils literal notranslate"><span class="pre">*.in</span></code>).</p></li>
</ul>
</dd>
<dt><strong>Optional</strong></dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--dual-topology</span></code> Keep only torsions present in <em>both</em> residues 1 and 2 (recommended for RBFE dual-topology workflows).</p></li>
</ul>
</dd>
</dl>
<p><strong>Example</strong>:</p>
<p><a href="#id1"><span class="problematic" id="id2">*</span></a>Single topology (standard usage):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python update_topology.py -p my_system.parm7 -i params_update.in
</pre></div>
</div>
<p><a href="#id3"><span class="problematic" id="id4">*</span></a>Dual topology (common torsions only):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python update_topology.py -p my_system.parm7 -i params_update.in --dual-topology
</pre></div>
</div>
<p>Running the script creates <strong>new.prmtop</strong> containing the optimised torsion parameters.
Check <em>parmed_update.log</em> (or the console) for warnings before production MD.</p>
<p><strong>Note</strong>: Ensure that Python is installed and accessible from your command line before running the script.</p>
</section>
<section id="tips-for-safe-topology-updates">
<h2>Tips for Safe Topology Updates<a class="headerlink" href="#tips-for-safe-topology-updates" title="Permalink to this heading"></a></h2>
<p>When you move from AFFDO’s torsion re‑parameterisation into your MD or RBFE workflows, keep these points in mind:</p>
<ol class="arabic simple">
<li><p><strong>Use identical ligand coordinates</strong> – The exact same <cite>.mol</cite>, <cite>.pdb</cite> or <cite>.mol2</cite> file provided to AFFDO must also be read by your MD engine. Any atom‑order or numbering mismatch will cause ParmEd to silently skip torsion updates, so double‑check file consistency.</p></li>
<li><p><strong>Inspect ParmEd logs for errors</strong> – After running <cite>update_topology.py</cite> (or your own ParmEd command), always glance at <cite>parmed_update.log</cite> or the console output for warnings. This prevents inadvertently launching production runs with default GAFF torsions.</p></li>
<li><p><strong>(Optional) Dual topology for RBFE</strong> – For two‑end‑state free‑energy calculations, we recommend updating only torsions common to both ligands. The <cite>–dual-topology</cite> flag in <cite>update_topology.py</cite> handles this automatically, though you may adopt a different ParmEd strategy if preferred.</p></li>
</ol>
<p>These simple checks give you confidence that your AFFDO‑refitted torsions are present in the final topology.</p>
</section>
<section id="disclaimer">
<h2>Disclaimer<a class="headerlink" href="#disclaimer" title="Permalink to this heading"></a></h2>
<p>Please be advised that AFFDO is part of an active development project. While we strive to provide accurate and reliable results, the underlying technology is continuously evolving, and there may be occasional updates or changes.</p>
<p><em>Last updated on 04/21/2025.</em></p>
</section>
</section>
</div>
</div>
<footer><div aria-label="Footer" class="rst-footer-buttons" role="navigation">
<a accesskey="p" class="btn btn-neutral float-left" href="performance.html" rel="prev" title="Accuracy and Performance"><span aria-hidden="true" class="fa fa-arrow-circle-left"></span> Previous</a>
<a accesskey="n" class="btn btn-neutral float-right" href="citation.html" rel="next" title="Citation">Next <span aria-hidden="true" class="fa fa-arrow-circle-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<p>© Copyright 2024, ATTMOS Inc.</p>
</div></footer>
</div>
</div>
</section>
</div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
<div id="version-selector">Version: <select onchange="document.location = this.value;">
</select></div>
</body>
</html>